# Налаштування Firebase для системи відгуків

Цей документ містить інструкції щодо налаштування Firebase для зберігання відгуків на вашому сайті.

## Крок 1: Створення проекту Firebase

1. Перейдіть на [Firebase Console](https://console.firebase.google.com/)
2. Натисніть "Додати проект" (або "Add project")
3. Введіть назву проекту, наприклад "soniachna-dolyna"
4. Дотримуйтесь інструкцій для створення проекту (можете вимкнути Google Analytics, якщо не потрібно)
5. Дочекайтесь створення проекту

## Крок 2: Налаштування аутентифікації

1. У меню зліва виберіть "Authentication"
2. Натисніть "Get started" або "Почати"
3. Виберіть метод "Email/Password" і активуйте його
4. Створіть адміністративний обліковий запис:
   - Натисніть на вкладку "Users" (або "Користувачі")
   - Натисніть "Add user" (або "Додати користувача")
   - Введіть email та пароль для адміністратора
   - Збережіть ці дані в надійному місці

## Крок 3: Налаштування бази даних Firestore

1. У меню зліва виберіть "Firestore Database"
2. Натисніть "Create database" (або "Створити базу даних")
3. Виберіть "Start in production mode" (або "Почати в режимі продакшн")
4. Виберіть регіон, найближчий до України (наприклад, europe-west3)
5. Натисніть "Далі" і "Готово"
6. Після створення бази даних, перейдіть до вкладки "Rules" (або "Правила")
7. Оновіть правила доступу, щоб дозволити читання всім, але запис тільки авторизованим користувачам:

```
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /reviews/{reviewId} {
      // Дозволяємо читати відгуки всім
      allow read: if true;
      // Дозволяємо додавати нові відгуки всім (для публічної форми)
      allow create: if true;
      // Дозволяємо видаляти відгуки тільки авторизованим користувачам (адміністраторам)
      allow delete: if request.auth != null;
    }
    // Інші колекції доступні тільки авторизованим користувачам
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}


## Крок 4: Отримання конфігураційних даних

1. У меню зліва виберіть "Project settings" (або "Налаштування проекту")
2. Прокрутіть до розділу "Your apps" (або "Ваші додатки")
3. Натисніть на іконку веб-додатку (</>) для створення веб-конфігурації
4. Введіть назву додатку, наприклад "soniachna-website"
5. Не потрібно налаштовувати Firebase Hosting
6. Натисніть "Register app" (або "Зареєструвати додаток")
7. Скопіюйте конфігураційний об'єкт `firebaseConfig`

## Крок 5: Оновлення конфігураційного файлу

1. Відкрийте файл `src/firebase/config.ts` у вашому проекті
2. Замініть об'єкт `firebaseConfig` на той, що ви скопіювали з Firebase Console:

```typescript
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_PROJECT_ID.appspot.com",
  messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
  appId: "YOUR_APP_ID"
};
```

## Крок 6: Розгортання та тестування

1. Запустіть проект локально для тестування:
```
npm run dev
```

2. Перевірте функціональність відгуків:
   - Додавання нового відгуку
   - Вхід як адміністратор (використовуючи створені раніше облікові дані)
   - Видалення відгуків

## Додаткові налаштування безпеки

Після тестування рекомендується:

1. Оновити правила Firestore для обмеження доступу
2. Налаштувати обмеження для API ключа в Google Cloud Console
3. Розглянути можливість додавання reCAPTCHA для форми відгуків

## Підтримка

Якщо у вас виникнуть проблеми з налаштуванням Firebase, зверніться до [офіційної документації Firebase](https://firebase.google.com/docs) або до розробника вашого сайту.
